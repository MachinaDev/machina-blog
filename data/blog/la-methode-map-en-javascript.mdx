---
title: La m√©thode de tableau .map() en Javascript
date: '2023-01-21'
tags: [Javascript, Array, Method]
draft: false
summary: Comment utiliser la m√©thode .map() en Javascript.
---

## Introduction

Lorsque l'on d√©veloppe, on passe beaucoup de temps √† traiter des donn√©es. Vous vous doutez bien qu'elle n'arrive pas toujours comme on le souhaiterait. Heureusement, nous avons la m√©thode `.map()` pour nous aider dans cette t√¢che.

Cette m√©thode est comme un m√©dicament pour vos donn√©es, elle vous permet de transformer chaque √©l√©ment
d'un tableau en quelque chose qui vous pla√Æt plus. Vous voulez transformer vos donn√©es en un format plus
facile √† comprendre? La m√©thode `.map()` est l√† pour vous. Vous voulez √©liminer les √©l√©ments ind√©sirables
d'un tableau? Utilisez `.map()` pour les transformer en quelque chose de plus acceptable, comme des donn√©es
nulles.

En utilisant `.map()`, vous pouvez facilement transformer vos donn√©es en quelque chose de plus
digeste, quelque chose de plus acceptable pour vous et votre code.
Mais attention √† ne pas abuser de la m√©thode `.map()`, faudrait quand m√™me pas trop se faciliter la vie non plus hein ? üôÇ

## Petite Pr√©cision

Et l√†, en bon padawan Javascript, vous pourriez me dire : Mais c'est je sais d√©j√† faire √ßa avec une boucle for ?

_Certes_... mais il y a plusieurs raisons pour lesquelles on peut pr√©f√©rer utiliser la m√©thode `.map()` plut√¥t qu'une boucle `for..of` en JavaScript:

1. La lisibilit√© du code: La m√©thode `.map()` est plus concise et plus lisible que les boucles `for..of`, car elle permet de d√©crire l'op√©ration de transformation de mani√®re explicite, plut√¥t que de devoir √©crire le code de la boucle pour parcourir chaque √©l√©ment du tableau.
2. La performance: Les m√©thodes de traitement de tableaux telles que `.map()` sont g√©n√©ralement plus rapides que les boucles `for..of` car elles sont impl√©ment√©es en natif dans le moteur JavaScript et peuvent √™tre optimis√©es pour une meilleure performance.
3. La compatibilit√©: `.map()` est une m√©thode de l'objet Array de JavaScript, il est donc compatible avec tous les tableaux. Il est donc plus compatible que les boucles `for..of` qui ne sont disponibles qu'√† partir d'ES6.
4. La compatibilit√© avec les fonctions de haut niveau: La m√©thode `.map()` est compatible avec d'autres m√©thodes de traitement de tableaux telles que `.filter()` et `.reduce()` pour cr√©er des op√©rations de traitement de donn√©es plus complexes.

En somme, la m√©thode `.map()` est un choix judicieux pour les op√©rations de transformation de tableaux car elle est plus lisible, plus rapide, plus compatible et plus facile √† combiner avec d'autres fonctions de haut niveau.

Alors convaincu ? Parfait, on va d√©couvrir la syntaxe dans ce cas.

## Syntaxe

La syntaxe de la m√©thode `.map()` de javascript est la suivante :

```javascript
array.map(function(currentValue, index, arr), thisValue)
```

Comme √ßa, √ßa peut faire peur mais c'est hyper simple.

En fait, la fonction de rappel (function) prend trois arguments :

- **_currentValue_** : l'√©l√©ment actuel dans l'array qui est en cours d'√™tre trait√©
- **_index_** (optionnel) : l'index de l'√©l√©ment actuel dans l'array
- **_arr_** (optionnel) : l'array sur lequel la m√©thode `map` est appel√©e

La m√©thode retourne un nouveau tableau contenant les r√©sultats de l'application de la fonction de rappel sur chaque √©l√©ment du tableau d'origine.

Par exemple, je veux prendre chaque donn√©e dans un tableau pour qu'il me retourne chaque √©l√©ment multipli√© par deux :

```javascript
let numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
let doubleNumbers = numbers.map(function (number) {
  return number * 2
})

console.log(doubleNumbers) // [2, 4, 6, 8, 10, 12, 14, 16, 18, 20]
```

D'ailleurs, depuis ECMAScript 6, vous pouvez utiliser une fonction fl√©ch√©e pour simplifier la syntaxe:

```javascript
let doubleNumbers = numbers.map((number) => number * 2)
```

_Pretty isn't it ?_

On va voir quelques exemples d'utilisation basiques.

## La m√©thode `.map()` en Javascript Vanilla

On va d'abord se cr√©er un petit tableau d'objets, chacun repr√©sentant un personnage de Star Wars avec ses propri√©t√©s (nom, esp√®ce, ann√©e de naissance).

```javascript
const characters = [
  { name: 'Luke Skywalker', species: 'Human', birthYear: '19 BBY' },
  { name: 'C-3PO', species: 'Droid', birthYear: '112 BBY' },
  { name: 'R2-D2', species: 'Droid', birthYear: '33 BBY' },
  { name: 'Darth Vader', species: 'Human', birthYear: '41.9 BBY' },
  { name: 'Leia Organa', species: 'Human', birthYear: '19 BBY' },
  { name: 'Owen Lars', species: 'Human', birthYear: '52 BBY' },
  { name: 'Beru Whitesun lars', species: 'Human', birthYear: '47 BBY' },
  { name: 'R5-D4', species: 'Droid', birthYear: 'unknown' },
]
```

On utilise la m√©thode `.map()` pour cr√©er un nouveau tableau contenant les noms des personnages uniquement.

```javascript
const characterNames = characters.map((character) => character.name)

console.log(characterNames)
```

Le r√©sultat de cette op√©ration sera un tableau contenant les noms des personnages de Star Wars:

```javascript
;[
  'Luke Skywalker',
  'C-3PO',
  'R2-D2',
  'Darth Vader',
  'Leia Organa',
  'Owen Lars',
  'Beru Whitesun lars',
  'R5-D4',
]
```

## La m√©thode `.map` avec React

On va maintenant voir ce que √ßa donne dans une application React.

D'abord, on cr√©e un composant React qui prend en entr√©e un tableau de personnages de Star Wars et les affiche sous forme de liste.

```javascript
import React from 'react'

function CharactersList({ characters }) {
  return (
    <ul>
      {characters.map((character) => (
        <li key={character.name}>{character.name}</li>
      ))}
    </ul>
  )
}
```

On utilise la m√©thode `.map()` pour parcourir chaque personnage dans le tableau, et pour chaque personnage, on retourne un √©l√©ment `<li>` contenant son nom. Il est important d'ajouter une cl√© unique pour chaque √©l√©ment de la liste, comme l'attribut _key_ pour √©viter les warnings de React (enfin surtout pour favoriser la r√©conciliation, et donc, les performances de l'application en g√©n√©rale).

```javascript
{
  characters.map((character) => <li key={character.name}>{character.name}</li>)
}
```

On utilise ensuite notre composant _CharactersList_ en lui passant le tableau de personnages de Star Wars comme propri√©t√©.

```javascript
const characters = [
  { name: 'Luke Skywalker', species: 'Human', birthYear: '19 BBY' },
  { name: 'C-3PO', species: 'Droid', birthYear: '112 BBY' },
  { name: 'R2-D2', species: 'Droid', birthYear: '33 BBY' },
  { name: 'Darth Vader', species: 'Human', birthYear: '41.9 BBY' },
  { name: 'Leia Organa', species: 'Human', birthYear: '19 BBY' },
  { name: 'Owen Lars', species: 'Human', birthYear: '52 BBY' },
  { name: 'Beru Whitesun lars', species: 'Human', birthYear: '47 BBY' },
  { name: 'R5-D4', species: 'Droid', birthYear: 'unknown' },
]

render(<CharactersList characters={characters} />, document.getElementById('root'))
```

## R√©sum√©

Dans le premier exemple, nous avons utilis√© la m√©thode `.map()` pour cr√©er un nouveau tableau contenant les noms des personnages de Star Wars √† partir d'un tableau contenant des objets repr√©sentant ces personnages. Dans le second exemple, nous avons utilis√© la m√©thode `.map()` pour parcourir un tableau de personnages de Star Wars dans un composant React, et pour chaque personnage, nous avons retourn√© un √©l√©ment `<li>` contenant son nom. Cela nous permet de cr√©er une liste √† partir d'un tableau de donn√©es.

## Aller plus loin ?

La m√©thode `.map()` en JavaScript permet de transformer les √©l√©ments d'un tableau en ex√©cutant une fonction sur chaque √©l√©ment. Cela permet de modifier leur valeur ou de cr√©er de nouveaux tableaux bas√©s sur les propri√©t√©s de ces √©l√©ments. Il est aussi possible d'utiliser cette m√©thode en combinaison avec d'autres outils de traitement de tableau tels que `.filter()` et `.reduce()` pour des op√©rations de traitement de donn√©es plus √©labor√©es.
